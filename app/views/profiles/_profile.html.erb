<div class="bg-gray-300 p-6 rounded-xl mb-6">
  <div class="flex items-start gap-6">
    <%# Profile image or default avatar %>
    <div class="w-32 h-32 flex items-center justify-center bg-gray-200 rounded-full overflow-hidden flex-shrink-0">
      <% if profile&.avatar&.attached? %>
        <%= image_tag(profile.avatar, class: "w-full h-full object-cover") %>
      <% else %>
        <svg class="w-8 h-8 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A7.972 7.972 0 0112 15c1.657 0 3.157.504 4.379 1.36M12 3a4 4 0 110 8 4 4 0 010-8z" />
        </svg>
      <% end %>
    </div>

    <div class="flex flex-col justify-center gap-4">
      <%# User name and skill level %>
      <div class="flex items-center gap-6 flex-wrap">
        <h1 class="text-3xl font-bold text-black whitespace-nowrap">
          <%= [profile&.first_name, profile&.last_name].compact.join(" ") || "Guest" %>
        </h1>
        <p class="text-sm text-gray-600">
          <span>â˜†</span>
          Skill level: <%= profile&.skill_level.presence || "Unknown" %>
        </p>
      </div>

      <%# Skills list %>
      <div class="flex flex-wrap gap-3">
        <% if profile&.skills&.present? %>
          <ul class="flex gap-2">
            <% profile&.skills.each do |skill| %>
              <li  class="px-3 py-1 border border-black bg-gray-300 text-black text-sm rounded">
                <%= skill.name %>
              </li>
            <% end %>
          </ul>
        <% else %>
          <p class="text-gray-500 text-sm">No skills added yet</p>
        <% end %>
      </div>

      <%# Bio below the profile line %>
      <p class="mt-4 text-gray-700">
        <%= profile&.bio.presence || "..." %>
      </p>

      <% if current_user.profile&.id == profile.id %>
        <div class="mt-2">
          <%= link_to "Edit Profile", edit_user_profile_path(current_user, profile), class: "inline-block bg-black text-white px-4 py-2 rounded-lg hover:opacity-80 transition" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
