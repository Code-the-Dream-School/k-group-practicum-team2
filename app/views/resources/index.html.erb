<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
  <% @resources.each do |resource| %>
    <div class="border rounded-lg p-4 flex flex-col items-center text-center shadow-sm">
      <h2 class="text-lg font-semibold">
        <%= resource.title %>
      </h2>
      <p class="text-gray-600 mt-2">
        <%= resource.description %>
      </p>
      <p class="text-gray-600 mt-2">
        Link to resource:
        <%= link_to resource.url, resource.url, target: "_blank", rel: "noopener" %>
      </p>
      <%= link_to "View Resource", resource_path(resource), class: "mt-3 text-blue-500 hover:underline" %>

      <% is_bookmarked =
        if local_assigns[:bookmarked_resource_ids]
          bookmarked_resource_ids.include?(resource.id)
        else
          current_user.bookmarked_resources.exists?(resource: resource)
        end
      %>

      <% if is_bookmarked %>
        <img src="<%= asset_path('star-filled.svg') %>" alt='bookmark star' width='20' height='20' >
      <% else %>
        <img src="<%= asset_path('star-empty.svg') %>" alt='empty star' width='20' height='20' >
      <% end %>
    </div>
  <% end %>

  <%= link_to "+ Share a Resource", new_resource_path %>
</div>
